<!DOCTYPE html>
<html lang="en" id="top">
	<head>
		<title>API Reference - jsOAuth Manual & Documentation</title>
		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		
		<meta name="viewport" content="width=device-width">
		<meta name="description" content="API reference guide and manual">
		<meta name="author" content="Rob Griffiths">
		
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		
		<meta name="viewport" content="width=device-width" />
		
		<link rel="stylesheet" href="http://0.0.0.0:4000/css/style.css?v=2" type="text/css" media="screen, projection, handheld">
		<link rel="stylesheet" href="http://0.0.0.0:4000/css/print.css?v=2" type="text/css" media="print">
		<link rel="icon" href="favicon.ico">
	</head>
	<body>
		<div id="container">
			<header>
				<h1>API Reference</h1>
			</header>
			<div id="main">
				<nav id="navigation">
					<ul>
					
						<li >
							<a href="/">Getting started</a>
						</li>
					
						<li  class="active" >
							<a href="/api-reference">API Reference</a>
						</li>
					
					</ul>
				</nav>
				
				<p>jsOAuth is a Javascript implimentation of the OAuth protocol.</p>

<h2 id='oauth'>OAuth</h2>

<p>Creates an OAuth object which signs and makes requests. You must so this first, as all other calls depend on the object method creates.</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>config <span class='type'>object</span></li>
</ol>

<p>The following config parameters can be set.</p>
<table>
	<thead>
		<tr>
			<th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Notes</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>consumerKey</td><td>string</td><td>true</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>consumerSecret</td><td>string</td><td>true</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>accessTokenKey</td><td>string</td><td>&nbsp;</td><td>&nbsp;</td><td><p>Some services give you an access token so you can skip the OAuth dance</p></td>
		</tr>
		<tr>
			<td>accessTokenSecret</td><td>string</td><td>Required if 'accessTokenKey' was set</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>signatureMethod</td><td>string</td><td>&nbsp;</td><td>HMAC-SHA1</td><td>jsOAuth only supports HMAC-SHA1</td>
		</tr>
		<tr>
			<td>realm</td><td>string</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>requestTokenUrl</td><td>string</td><td>Required for 3-legged requests</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>authorizationUrl</td><td>string</td><td>Required for 3-legged requests</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>accessTokenUrl</td><td>string</td><td>Required for 3-legged requests</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>enablePrivilege</td><td>boolean</td><td>&nbsp;</td><td>false</td><td>Allows you to put Firefox into a Cross domain requests enabled mode<sup>*</sup></td>
		</tr>
	</tbody>
</table><sub>* Should only be used for testing</sub>
<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>var</span> <span class='nx'>config</span> <span class='o'>=</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='nx'>consumerKey</span><span class='o'>:</span> <span class='s2'>&quot;MY-KEY&quot;</span><span class='p'>,</span>
<span class='lineno'>3</span>     <span class='nx'>consumerSecret</span><span class='o'>:</span> <span class='s2'>&quot;MY-SECRET&quot;</span>
<span class='lineno'>4</span> <span class='p'>};</span>
<span class='lineno'>5</span> 
<span class='lineno'>6</span> <span class='kd'>var</span> <span class='nx'>oauth</span> <span class='o'>=</span> <span class='nx'>OAuth</span><span class='p'>(</span><span class='nx'>config</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='get'>get</h2>

<p>Performs a GET request</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>url <span class='type'>string</span></li>

<li>success <span class='type'>function</span></li>

<li>failure <span class='type'>function</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>function</span> <span class='nx'>success</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Success &#39;</span> <span class='o'>+</span> <span class='nx'>data</span><span class='p'>.</span><span class='nx'>text</span><span class='p'>);</span>
<span class='lineno'>3</span> <span class='p'>}</span>
<span class='lineno'>4</span> 
<span class='lineno'>5</span> <span class='kd'>function</span> <span class='nx'>failure</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>6</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Something bad happened! :(&#39;</span><span class='p'>);</span>
<span class='lineno'>7</span> <span class='p'>}</span>
<span class='lineno'>8</span> 		
<span class='lineno'>9</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>get</span><span class='p'>(</span><span class='s1'>&#39;http://www.example.com/person/1&#39;</span><span class='p'>,</span> <span class='nx'>success</span><span class='p'>,</span> <span class='nx'>failure</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='post'>post</h2>

<p>Performs a POST request</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>url <span class='type'>string</span></li>

<li>data <span class='type'>object</span></li>

<li>success <span class='type'>function</span></li>

<li>failure <span class='type'>function</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'> 1</span> <span class='kd'>function</span> <span class='nx'>success</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'> 2</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Success &#39;</span> <span class='o'>+</span> <span class='nx'>data</span><span class='p'>.</span><span class='nx'>text</span><span class='p'>);</span>
<span class='lineno'> 3</span> <span class='p'>}</span>
<span class='lineno'> 4</span> 
<span class='lineno'> 5</span> <span class='kd'>function</span> <span class='nx'>failure</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'> 6</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Something bad happened! :(&#39;</span><span class='p'>);</span>
<span class='lineno'> 7</span> <span class='p'>}</span>
<span class='lineno'> 8</span> 
<span class='lineno'> 9</span> <span class='kd'>var</span> <span class='nx'>data</span> <span class='o'>=</span> <span class='p'>{</span>
<span class='lineno'>10</span> 	<span class='nx'>name</span><span class='o'>:</span> <span class='s1'>&#39;Darth Vader&#39;</span><span class='p'>,</span>
<span class='lineno'>11</span> 	<span class='nx'>age</span><span class='o'>:</span> <span class='mi'>43</span>
<span class='lineno'>12</span> <span class='p'>};</span>
<span class='lineno'>13</span> 		
<span class='lineno'>14</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>post</span><span class='p'>(</span><span class='s1'>&#39;http://www.example.com/person/edit/1&#39;</span><span class='p'>,</span> <span class='nx'>data</span><span class='p'>,</span> <span class='nx'>success</span><span class='p'>,</span> <span class='nx'>failure</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='getjson'>getJSON</h2>

<p>Performs a GET request and parses JSON. Requires a JSON library</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>url <span class='type'>string</span></li>

<li>success <span class='type'>function</span></li>

<li>failure <span class='type'>function</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>function</span> <span class='nx'>success</span><span class='p'>(</span><span class='nx'>data_object</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Name: &#39;</span> <span class='o'>+</span> <span class='nx'>data_object</span><span class='p'>.</span><span class='nx'>name</span><span class='p'>);</span>
<span class='lineno'>3</span> <span class='p'>}</span>
<span class='lineno'>4</span> 
<span class='lineno'>5</span> <span class='kd'>function</span> <span class='nx'>failure</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>6</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Something bad happened! :(&#39;</span><span class='p'>);</span>
<span class='lineno'>7</span> <span class='p'>}</span>
<span class='lineno'>8</span> 		
<span class='lineno'>9</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>getJSON</span><span class='p'>(</span><span class='s1'>&#39;http://www.example.com/person/1&#39;</span><span class='p'>,</span> <span class='nx'>success</span><span class='p'>,</span> <span class='nx'>failure</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='request'>request</h2>

<p>Performs a request based on the configuration you give. More flexible than the previous request methods as you can specify additional headers.</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>options <span class='type'>object</span></li>
</ol>
<table>
	<thead>
		<tr>
			<th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Notes</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>method</td><td>string</td><td>&nbsp;</td><td>GET</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>url</td><td>string</td><td>true</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>data</td><td>object</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>headers</td><td>object</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>success</td><td>function</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
		<tr>
			<td>failure</td><td>function</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td>
		</tr>
	</tbody>
</table>
<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'> 1</span> <span class='kd'>function</span> <span class='nx'>success</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'> 2</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Name: &#39;</span> <span class='o'>+</span> <span class='nx'>data</span><span class='p'>.</span><span class='nx'>text</span><span class='p'>);</span>
<span class='lineno'> 3</span> <span class='p'>}</span>
<span class='lineno'> 4</span> 
<span class='lineno'> 5</span> <span class='kd'>function</span> <span class='nx'>failure</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'> 6</span> 	<span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;Something bad happened! :(&#39;</span><span class='p'>);</span>
<span class='lineno'> 7</span> <span class='p'>}</span>
<span class='lineno'> 8</span> 
<span class='lineno'> 9</span> <span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
<span class='lineno'>10</span> 	<span class='nx'>method</span><span class='o'>:</span> <span class='s1'>&#39;POST&#39;</span><span class='p'>;</span>
<span class='lineno'>11</span> 	<span class='nx'>url</span><span class='o'>:</span> <span class='s1'>&#39;http://www.example.com/person/edit/2&#39;</span><span class='p'>,</span>
<span class='lineno'>12</span> 	<span class='nx'>success</span><span class='o'>:</span> <span class='nx'>success</span><span class='p'>,</span>
<span class='lineno'>13</span> 	<span class='nx'>failure</span><span class='o'>:</span> <span class='nx'>failure</span><span class='p'>,</span>
<span class='lineno'>14</span> 	<span class='nx'>headers</span><span class='o'>:</span> <span class='p'>{</span>
<span class='lineno'>15</span> 		<span class='s1'>&#39;X-Do-Not-Track&#39;</span><span class='o'>:</span> <span class='mi'>1</span>
<span class='lineno'>16</span> 	<span class='p'>},</span>
<span class='lineno'>17</span> 	<span class='nx'>data</span><span class='o'>:</span> <span class='p'>{</span>
<span class='lineno'>18</span> 		<span class='s1'>&#39;name&#39;</span><span class='o'>:</span> <span class='s1'>&#39;Luke Skywalker&#39;</span><span class='p'>,</span>
<span class='lineno'>19</span> 		<span class='s1'>&#39;age&#39;</span><span class='o'>:</span> <span class='s1'>&#39;18&#39;</span>
<span class='lineno'>20</span> 	<span class='p'>}</span>
<span class='lineno'>21</span> <span class='p'>};</span>
<span class='lineno'>22</span> 		
<span class='lineno'>23</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>request</span><span class='p'>(</span><span class='nx'>options</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='fetchrequesttoken'>fetchRequestToken</h2>

<p>Gets the request token from the OAuth service URL specified with the <code>requestTokenUrl</code> finally passing <code>authorizationUrl</code> and the request token string to the success callback.</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>success <span class='type'>function</span></li>

<li>failure <span class='type'>function</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>fetchRequestToken</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>url</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span> 	<span class='kd'>var</span> <span class='nx'>windowObjectReference</span> <span class='o'>=</span> <span class='nb'>window</span><span class='p'>.</span><span class='nx'>open</span><span class='p'>(</span><span class='nx'>url</span><span class='p'>,</span> <span class='s1'>&#39;authorise&#39;</span><span class='p'>);</span>
<span class='lineno'>3</span> <span class='p'>},</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>4</span> 	<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span>
<span class='lineno'>5</span> <span class='p'>});</span>
</code></pre>
</div>
<h2 id='getverifier'>getVerifier</h2>

<p>Get the verifier that was previously set in this session</p>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>var</span> <span class='nx'>pin</span> <span class='o'>=</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>getVerifier</span><span class='p'>();</span>
</code></pre>
</div>
<h2 id='setverifier'>setVerifier</h2>

<p>After you open the authorisation window, you need to get the user to input the PIN givent to them by the service. You then set it with the <code>setVerifier()</code> method.</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>verifier <span class='type'>string</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>var</span> <span class='nx'>code</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>getElementById</span><span class='p'>(</span><span class='s1'>&#39;verification&#39;</span><span class='p'>).</span><span class='nx'>value</span><span class='p'>;</span>
<span class='lineno'>2</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>setVerifier</span><span class='p'>(</span><span class='nx'>code</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='fetchaccesstoken'>fetchAccessToken</h2>

<p>Gets the access token from the OAuth service URL specified with the <code>accessTokenUrl</code>. The access token is parsed and stored. A call to <code>getAccessToken()</code> can retrive the parsed token.</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>success <span class='type'>function</span></li>

<li>failure <span class='type'>function</span></li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>fetchAccessToken</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span> 	<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Authorised for 3-legged requests from now on&#39;</span><span class='p'>);</span>
<span class='lineno'>3</span> <span class='p'>},</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>4</span> 	<span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='nx'>data</span><span class='p'>)</span>
<span class='lineno'>5</span> <span class='p'>});</span>
</code></pre>
</div>
<h2 id='getaccesstoken'>getAccessToken</h2>

<p>Gets the stored access token</p>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='kd'>var</span> <span class='nx'>accessToken</span> <span class='o'>=</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>getAccessToken</span><span class='p'>();</span>
</code></pre>
</div>
<h2 id='setaccesstoken'>setAccessToken</h2>

<p>Sets an access token for signing requests</p>

<h3 id='parameters'>Parameters</h3>

<ol>
<li>tokenArray <span class='type'>array</span> The first element in the array is the key, the second is the secret</li>
</ol>

<h3 id='usage'>Usage</h3>
<div class='highlight'><pre><code class='javascript'><span class='lineno'>1</span> <span class='nx'>oauth</span><span class='p'>.</span><span class='nx'>setAccessToken</span><span class='p'>([</span><span class='s1'>&#39;MY-ACCESS-KEY&#39;</span><span class='p'>,</span> <span class='s1'>&#39;MY-ACCESS-SECRET&#39;</span><span class='p'>]);</span>
</code></pre>
</div>
			</div>
			<footer>
				<p>Copyright 2011</p> 
			</footer>
		</div>
		<script src="http://0.0.0.0:4000/js/script.js" type="text/javascript"></script>
	</body>
</html>